{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\nseng\\\\Desktop\\\\MasterBurgerBuilder\\\\Build-Burger-Online\\\\src\\\\Layout\\\\BurgerBuilder\\\\BurgerBuilder.js\";\nimport React, { Component } from 'react';\nimport Burger from './Burger/Burger';\nimport BurgerControls from './BurgerControls/BurgerControls';\nimport Message from './BurgerControls/Messages/Message';\nimport closeItem from '../Assets/images/icon.png';\nimport classes from './BurgerBuilder.module.css';\nimport Summary from '../Summary/Summary';\nimport OrderNow from './OrderNow/OrderNow';\nimport BackOrder from './BackOrder/BackOrder';\nimport instance from '../../axios-orders';\nimport Spinner from './Spinner/Spinner';\nconst ingredientPrices = {\n  salad: 0.7,\n  meat: 0.9,\n  bacon: 1,\n  cheese: 0.8\n};\n\nclass BurgerBuilder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ingredients: {\n        salad: 0,\n        meat: 0,\n        bacon: 0,\n        cheese: 0\n      },\n      Message: false,\n      MessageText: \"\",\n      NoIngridient: true,\n      cantRemove: true,\n      Price: 4,\n      Purchasable: true,\n      OrderNow: false,\n      loading: false\n    };\n\n    this.addIngredientHandler = igKey => {\n      const ingredientsCopy = { ...this.state.ingredients\n      };\n\n      if (ingredientsCopy[igKey] < 2) {\n        ingredientsCopy[igKey] += 1;\n        const oldPrice = this.state.Price;\n        const sumIngredients = oldPrice + ingredientPrices[igKey];\n        this.setState({\n          Price: sumIngredients\n        });\n        this.youCanCheckOut(ingredientsCopy);\n      } else {\n        this.setState({\n          Message: true,\n          MessageText: \"You Can Only Add 2 \" + igKey + \" Only \"\n        });\n      }\n\n      this.setState({\n        ingredients: ingredientsCopy\n      });\n      const newIngredsValues = Object.values({ ...ingredientsCopy\n      });\n      console.log(newIngredsValues);\n      const newIngredsLength = newIngredsValues.reduce((total, currentValue) => {\n        return total + currentValue;\n      }, 0);\n      console.log(newIngredsLength);\n\n      if (newIngredsLength !== 0) {\n        this.setState({\n          NoIngridient: false\n        });\n      }\n    };\n\n    this.removeIngredientHandler = igKey => {\n      const ingredientsCopy = { ...this.state.ingredients\n      };\n\n      if (ingredientsCopy[igKey] > 0) {\n        ingredientsCopy[igKey] -= 1;\n        const oldPrice = this.state.Price;\n        const sumIngredients = oldPrice - ingredientPrices[igKey];\n        this.setState({\n          Price: sumIngredients\n        });\n        this.youCanCheckOut(ingredientsCopy);\n      } else {\n        this.setState({\n          Message: true,\n          MessageText: \"No  \" + igKey + \" To Remove \"\n        });\n      }\n\n      this.setState({\n        ingredients: ingredientsCopy\n      });\n      const newIngredsValues = Object.values({ ...ingredientsCopy\n      });\n      console.log(newIngredsValues);\n      const newIngredsLength = newIngredsValues.reduce((total, currentValue) => {\n        return total + currentValue;\n      }, 0);\n      console.log(newIngredsLength);\n\n      if (newIngredsLength !== 0) {\n        this.setState({\n          NoIngridient: false\n        });\n        console.log(this.state.NoIngridient);\n      } else {\n        this.setState({\n          NoIngridient: true,\n          Purchasable: true\n        });\n        console.log(this.state.Purchasable);\n      }\n    };\n\n    this.ToggleMessage = () => {\n      this.setState({\n        Message: false\n      });\n    };\n\n    this.OrderNowHandler = () => {\n      this.setState({\n        OrderNow: true\n      });\n      console.log(\"OrderNowHandler\" + this.state.OrderNow);\n    };\n\n    this.CloseBackOrder = () => {\n      this.setState({\n        OrderNow: false\n      });\n    };\n\n    this.sentOrder = () => {\n      this.setState({\n        loading: true\n      });\n      const orderPost = {\n        ingredients: this.state.ingredients,\n        price: this.state.Price,\n        customer: {\n          name: 'bonheur jed',\n          address: {\n            street: 'Street1',\n            postalcode: 'H4L1P5',\n            country: 'Canada'\n          },\n          email: 'test@test.com'\n        },\n        deliveryMethod: 'Fastest'\n      };\n      instance.post('/orders.json', orderPost).then(response => {\n        this.state({\n          loading: false\n        });\n      }).catch(error => {\n        this.state({\n          loading: false\n        });\n      });\n    };\n\n    this.showSummary = props => {\n      if (this.state.OrderNow) {\n        if (this.state.loading) {\n          return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Summary, {\n              listoforder: this.state.ingredients,\n              SummaryPrice: this.state.Price.toFixed(2),\n              CancelOrder: this.CloseBackOrder,\n              sentOrder: this.sentOrder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(BackOrder, {\n              toclose: this.CloseBackOrder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true);\n        }\n      }\n    };\n\n    this.youCanCheckOut = ingredients => {\n      const newIngredsValues = Object.values(ingredients);\n      console.log(newIngredsValues);\n      const newIngredsLength = newIngredsValues.reduce((total, currentValue) => {\n        return total + currentValue;\n      }, 0);\n      console.log(\"newIngredsLength\" + newIngredsLength);\n\n      if (newIngredsLength !== 0) {\n        this.setState({\n          Purchasable: false\n        });\n      }\n    };\n  }\n\n  // ____end________\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.showSummary(), /*#__PURE__*/_jsxDEV(Burger, {\n        burgerIngredients: this.state.ingredients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.BurgerContols,\n        children: [/*#__PURE__*/_jsxDEV(Message, {\n          messageEmpty: this.state.Message,\n          children: [this.state.MessageText, /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: this.ToggleMessage,\n            className: classes.Icon,\n            src: closeItem,\n            alt: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.TotalPrice,\n          children: [\"Total: \", this.state.Price.toFixed(2), \"$ \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(BurgerControls, {\n          removeIngredient: this.removeIngredientHandler,\n          addIngredient: this.addIngredientHandler,\n          disable: this.state.Message,\n          zeroIngredient: this.state.NoIngridient\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(OrderNow, {\n          goCheckout: this.state.Purchasable,\n          checkoutNow: this.OrderNowHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default BurgerBuilder;","map":{"version":3,"sources":["C:/Users/nseng/Desktop/MasterBurgerBuilder/Build-Burger-Online/src/Layout/BurgerBuilder/BurgerBuilder.js"],"names":["React","Component","Burger","BurgerControls","Message","closeItem","classes","Summary","OrderNow","BackOrder","instance","Spinner","ingredientPrices","salad","meat","bacon","cheese","BurgerBuilder","state","ingredients","MessageText","NoIngridient","cantRemove","Price","Purchasable","loading","addIngredientHandler","igKey","ingredientsCopy","oldPrice","sumIngredients","setState","youCanCheckOut","newIngredsValues","Object","values","console","log","newIngredsLength","reduce","total","currentValue","removeIngredientHandler","ToggleMessage","OrderNowHandler","CloseBackOrder","sentOrder","orderPost","price","customer","name","address","street","postalcode","country","email","deliveryMethod","post","then","response","catch","error","showSummary","props","toFixed","render","BurgerContols","Icon","TotalPrice"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Burger from './Burger/Burger';\r\nimport BurgerControls from './BurgerControls/BurgerControls';\r\nimport Message from './BurgerControls/Messages/Message';\r\nimport closeItem from '../Assets/images/icon.png'\r\nimport classes from './BurgerBuilder.module.css';\r\nimport Summary from '../Summary/Summary';\r\nimport OrderNow from './OrderNow/OrderNow';\r\nimport BackOrder from './BackOrder/BackOrder';\r\nimport instance from '../../axios-orders';\r\nimport Spinner from './Spinner/Spinner';\r\nconst ingredientPrices = {\r\n salad: 0.7,\r\n meat: 0.9,\r\n bacon: 1,\r\n cheese: 0.8\r\n}\r\nclass BurgerBuilder extends Component {\r\n state = {\r\n  ingredients: {\r\n   salad: 0,\r\n   meat: 0,\r\n   bacon: 0,\r\n   cheese: 0,\r\n  },\r\n  Message: false,\r\n  MessageText: \"\",\r\n  NoIngridient: true,\r\n  cantRemove: true,\r\n  Price: 4,\r\n  Purchasable: true,\r\n  OrderNow: false,\r\n  loading: false\r\n }\r\n // ________functions___________\r\n addIngredientHandler = (igKey) => {\r\n  const ingredientsCopy = { ...this.state.ingredients };\r\n  if (ingredientsCopy[igKey] < 2) {\r\n   ingredientsCopy[igKey] += 1;\r\n   const oldPrice = this.state.Price;\r\n   const sumIngredients = oldPrice + ingredientPrices[igKey];\r\n   this.setState({ Price: sumIngredients, });\r\n   this.youCanCheckOut(ingredientsCopy);\r\n\r\n  } else {\r\n   this.setState(\r\n    {\r\n     Message: true,\r\n     MessageText: \"You Can Only Add 2 \" + igKey + \" Only \",\r\n\r\n    }\r\n   );\r\n  }\r\n  this.setState({ ingredients: ingredientsCopy });\r\n  const newIngredsValues = Object.values({ ...ingredientsCopy });\r\n  console.log(newIngredsValues);\r\n  const newIngredsLength = newIngredsValues.reduce((total, currentValue) => {\r\n   return total + currentValue;\r\n  }, 0);\r\n  console.log(newIngredsLength);\r\n  if (newIngredsLength !== 0) {\r\n   this.setState({ NoIngridient: false });\r\n  }\r\n }\r\n\r\n // ____end________\r\n\r\n removeIngredientHandler = (igKey) => {\r\n  const ingredientsCopy = { ...this.state.ingredients };\r\n  if (ingredientsCopy[igKey] > 0) {\r\n   ingredientsCopy[igKey] -= 1;\r\n   const oldPrice = this.state.Price;\r\n   const sumIngredients = oldPrice - ingredientPrices[igKey];\r\n   this.setState({ Price: sumIngredients });\r\n   this.youCanCheckOut(ingredientsCopy);\r\n  } else {\r\n   this.setState(\r\n    {\r\n     Message: true,\r\n     MessageText: \"No  \" + igKey + \" To Remove \",\r\n    }\r\n   );\r\n  }\r\n\r\n  this.setState({ ingredients: ingredientsCopy });\r\n  const newIngredsValues = Object.values({ ...ingredientsCopy });\r\n  console.log(newIngredsValues);\r\n  const newIngredsLength = newIngredsValues.reduce((total, currentValue) => {\r\n   return total + currentValue;\r\n  }, 0);\r\n  console.log(newIngredsLength);\r\n  if (newIngredsLength !== 0) {\r\n   this.setState({ NoIngridient: false });\r\n   console.log(this.state.NoIngridient)\r\n  } else {\r\n   this.setState({ NoIngridient: true, Purchasable: true });\r\n   console.log(this.state.Purchasable)\r\n  }\r\n }\r\n\r\n // ____end________\r\n\r\n ToggleMessage = () => {\r\n  this.setState({ Message: false })\r\n }\r\n\r\n // ____end________\r\n\r\n OrderNowHandler = () => {\r\n  this.setState({ OrderNow: true });\r\n  console.log(\"OrderNowHandler\" + this.state.OrderNow);\r\n }\r\n\r\n // ____end________\r\n\r\n CloseBackOrder = () => {\r\n  this.setState({ OrderNow: false })\r\n }\r\n\r\n // ____end________\r\n\r\n sentOrder = () => {\r\n  this.setState({ loading: true })\r\n  const orderPost = {\r\n   ingredients: this.state.ingredients,\r\n   price: this.state.Price,\r\n   customer: {\r\n    name: 'bonheur jed',\r\n    address: {\r\n     street: 'Street1',\r\n     postalcode: 'H4L1P5',\r\n     country: 'Canada'\r\n    },\r\n    email: 'test@test.com'\r\n   },\r\n   deliveryMethod: 'Fastest'\r\n  }\r\n  instance.post('/orders.json', orderPost)\r\n   .then(response => {\r\n    this.state({ loading: false });\r\n   })\r\n   .catch(error => {\r\n    this.state({ loading: false })\r\n   });\r\n }\r\n\r\n // ____end________\r\n\r\n showSummary = (props) => {\r\n  if (this.state.OrderNow) {\r\n   if (this.state.loading) {\r\n    return (<Spinner />)\r\n   } else {\r\n    return (\r\n     <>\r\n      <Summary\r\n       listoforder={this.state.ingredients}\r\n       SummaryPrice={this.state.Price.toFixed(2)}\r\n       CancelOrder={this.CloseBackOrder}\r\n       sentOrder={this.sentOrder}\r\n      />\r\n      <BackOrder toclose={this.CloseBackOrder} />\r\n     </>\r\n    )\r\n   }\r\n\r\n  }\r\n }\r\n\r\n // ____end________\r\n\r\n youCanCheckOut = (ingredients) => {\r\n  const newIngredsValues = Object.values(ingredients);\r\n  console.log(newIngredsValues);\r\n  const newIngredsLength = newIngredsValues.reduce((total, currentValue) => {\r\n   return total + currentValue;\r\n  }, 0);\r\n  console.log(\"newIngredsLength\" + newIngredsLength)\r\n  if (newIngredsLength !== 0) {\r\n   this.setState({ Purchasable: false });\r\n  }\r\n }\r\n\r\n // ____end________\r\n\r\n\r\n\r\n render() {\r\n  return (\r\n   <>\r\n    {this.showSummary()}\r\n\r\n    <Burger burgerIngredients={this.state.ingredients} />\r\n    <div className={classes.BurgerContols}>\r\n     <Message messageEmpty={this.state.Message}>\r\n      {this.state.MessageText}\r\n      <img onClick={this.ToggleMessage} className={classes.Icon} src={closeItem} alt=\"close\" />\r\n     </Message>\r\n     <div className={classes.TotalPrice}>Total: {(this.state.Price.toFixed(2))}$ </div>\r\n     <BurgerControls\r\n      removeIngredient={this.removeIngredientHandler}\r\n      addIngredient={this.addIngredientHandler}\r\n      disable={this.state.Message}\r\n      zeroIngredient={this.state.NoIngridient}\r\n     />\r\n     <OrderNow goCheckout={this.state.Purchasable} checkoutNow={this.OrderNowHandler} />\r\n\r\n    </div>\r\n   </>\r\n  )\r\n }\r\n}\r\n\r\nexport default BurgerBuilder;"]},"metadata":{},"sourceType":"module"}